import{_ as n,c as a,o as l,b as e}from"./chunks/framework.DUr976bL.js";const E=JSON.parse('{"title":"æ€ä¹ˆå†™ä¸€ä¸ªnodeå‘½ä»¤è¡Œå·¥å…·","description":"","frontmatter":{"title":"æ€ä¹ˆå†™ä¸€ä¸ªnodeå‘½ä»¤è¡Œå·¥å…·","outline":"deep"},"headers":[{"level":2,"title":"åˆ›å»ºä¸€ä¸ªé¡¹ç›®åŠæ–‡ä»¶","slug":"åˆ›å»ºä¸€ä¸ªé¡¹ç›®åŠæ–‡ä»¶","link":"#åˆ›å»ºä¸€ä¸ªé¡¹ç›®åŠæ–‡ä»¶","children":[]},{"level":2,"title":"åˆçº§ï¼šæ‰“å°ä¸ª Hello å…ˆ","slug":"åˆçº§-æ‰“å°ä¸ª-hello-å…ˆ","link":"#åˆçº§-æ‰“å°ä¸ª-hello-å…ˆ","children":[{"level":3,"title":"index.js","slug":"index-js","link":"#index-js","children":[]},{"level":3,"title":"package.json","slug":"package-json","link":"#package-json","children":[]},{"level":3,"title":"ç›®å½•ç»“æ„","slug":"ç›®å½•ç»“æ„","link":"#ç›®å½•ç»“æ„","children":[]}]},{"level":2,"title":"è¿›é˜¶ï¼šæ•´ç‚¹é«˜çº§çš„","slug":"è¿›é˜¶-æ•´ç‚¹é«˜çº§çš„","link":"#è¿›é˜¶-æ•´ç‚¹é«˜çº§çš„","children":[{"level":3,"title":"process.argv","slug":"process-argv","link":"#process-argv","children":[]},{"level":3,"title":"commander å¤„ç†å‚æ•°","slug":"commander-å¤„ç†å‚æ•°","link":"#commander-å¤„ç†å‚æ•°","children":[]},{"level":3,"title":"inquirer æ·»åŠ é—®ç­”","slug":"inquirer-æ·»åŠ é—®ç­”","link":"#inquirer-æ·»åŠ é—®ç­”","children":[]},{"level":3,"title":"shelljs æ‰§è¡Œè„šæœ¬","slug":"shelljs-æ‰§è¡Œè„šæœ¬","link":"#shelljs-æ‰§è¡Œè„šæœ¬","children":[]},{"level":3,"title":"ç›®å½•ç»“æ„","slug":"ç›®å½•ç»“æ„-1","link":"#ç›®å½•ç»“æ„-1","children":[]}]},{"level":2,"title":"PSï¼šå‘½ä»¤å®‰è£…çš„ä½ç½®","slug":"ps-å‘½ä»¤å®‰è£…çš„ä½ç½®","link":"#ps-å‘½ä»¤å®‰è£…çš„ä½ç½®","children":[]}],"relativePath":"node/external/cli.md","filePath":"node/external/cli.md"}'),p={name:"node/external/cli.md"};function o(r,s,c,i,t,d){return l(),a("div",null,s[0]||(s[0]=[e(`<h1 id="cli-ä»-0-å†™ä¸€ä¸ª-node-å‘½ä»¤è¡Œå·¥å…·" tabindex="-1">CLIï¼šä» 0 å†™ä¸€ä¸ª node å‘½ä»¤è¡Œå·¥å…· <a class="header-anchor" href="#cli-ä»-0-å†™ä¸€ä¸ª-node-å‘½ä»¤è¡Œå·¥å…·" aria-label="Permalink to &quot;CLIï¼šä» 0 å†™ä¸€ä¸ª node å‘½ä»¤è¡Œå·¥å…·&quot;">â€‹</a></h1><p>CLIï¼šCommand Line Interfaceã€‚</p><h2 id="åˆ›å»ºä¸€ä¸ªé¡¹ç›®åŠæ–‡ä»¶" tabindex="-1">åˆ›å»ºä¸€ä¸ªé¡¹ç›®åŠæ–‡ä»¶ <a class="header-anchor" href="#åˆ›å»ºä¸€ä¸ªé¡¹ç›®åŠæ–‡ä»¶" aria-label="Permalink to &quot;åˆ›å»ºä¸€ä¸ªé¡¹ç›®åŠæ–‡ä»¶&quot;">â€‹</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹</span></span>
<span class="line"><span style="color:#B392F0;">mkdir</span><span style="color:#9ECBFF;"> first-node-cli</span></span>
<span class="line"><span style="color:#6A737D;"># è¿›å…¥æ–‡ä»¶å¤¹</span></span>
<span class="line"><span style="color:#79B8FF;">cd</span><span style="color:#9ECBFF;"> first-node-cli</span></span>
<span class="line"><span style="color:#6A737D;"># å¿«é€Ÿåˆ›å»ºpackage.jsonæ–‡ä»¶</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#9ECBFF;"> init</span><span style="color:#79B8FF;"> -y</span></span>
<span class="line"><span style="color:#6A737D;"># åˆ›å»ºindex.jsæ–‡ä»¶</span></span>
<span class="line"><span style="color:#B392F0;">touch</span><span style="color:#9ECBFF;"> index.js</span></span>
<span class="line"><span style="color:#6A737D;"># ç¼–è¾‘å™¨æ‰“å¼€é¡¹ç›®</span></span>
<span class="line"><span style="color:#B392F0;">code</span><span style="color:#9ECBFF;"> .</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="åˆçº§-æ‰“å°ä¸ª-hello-å…ˆ" tabindex="-1">åˆçº§ï¼šæ‰“å°ä¸ª Hello å…ˆ <a class="header-anchor" href="#åˆçº§-æ‰“å°ä¸ª-hello-å…ˆ" aria-label="Permalink to &quot;åˆçº§ï¼šæ‰“å°ä¸ª Hello å…ˆ&quot;">â€‹</a></h2><h3 id="index-js" tabindex="-1">index.js <a class="header-anchor" href="#index-js" aria-label="Permalink to &quot;index.js&quot;">â€‹</a></h3><p>åœ¨ index.js æ–‡ä»¶ä¸­ï¼Œå†™å…¥ä»¥ä¸‹ä»£ç ï¼š</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// index.js</span></span>
<span class="line"><span style="color:#E1E4E8;">#</span><span style="color:#F97583;">!/</span><span style="color:#E1E4E8;">usr</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">bin</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">env node</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Hello, Cli&#39;</span><span style="color:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>#!/usr/bin/env node</code>ï¼š<strong>è¯¥è¡Œå¿…ä¸å¯å°‘</strong>ã€‚æ„æ€æ˜¯ï¼Œè®©ç³»ç»Ÿè‡ªåŠ¨å»ç¯å¢ƒè®¾ç½®å¯»æ‰¾ node ç›®å½•ï¼Œå†è°ƒç”¨å¯¹åº”è·¯å¾„ä¸‹çš„è§£é‡Šå™¨ç¨‹åºã€‚å®é™…ä¸Šï¼Œå°±æ˜¯å‘Šè¯‰è¿™æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨ node <strong>ç›´æ¥æ‰§è¡Œ</strong>çš„æ–‡ä»¶ã€‚</p><p>æ‰€ä»¥ä½ å¯ä»¥ç›´æ¥è¿™æ ·è¿è¡Œ index.js</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">./index.js</span></span>
<span class="line"><span style="color:#6A737D;"># zsh: permission denied: ./index.js</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>äºæ˜¯ä½ ä¼šå¾—åˆ°<code> zsh: permission denied: ./index.js</code>ï¼Œæ²¡æœ‰æƒé™ã€‚é‚£å°±æ·»åŠ æƒé™</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">chmod</span><span style="color:#79B8FF;"> 744</span><span style="color:#9ECBFF;"> index.js</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å†æ¬¡è¿è¡Œï¼Œä½ å¯ä»¥çœ‹åˆ°<code>Hello, Cli</code>äº†ã€‚</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">./index.js</span></span>
<span class="line"><span style="color:#6A737D;"># Hello, Cli</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="package-json" tabindex="-1">package.json <a class="header-anchor" href="#package-json" aria-label="Permalink to &quot;package.json&quot;">â€‹</a></h3><p>åœ¨ bin å­—æ®µå£°æ˜ä¸€ä¸ªå‘½ä»¤ã€‚æƒ³å¤šä¸ªï¼Œå°±å£°æ˜å¤šä¸ªã€‚</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#79B8FF;">  &quot;bin&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#79B8FF;">    &quot;xiao-cli&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;index.js&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>è¿è¡Œ <code>xiao-cli</code> å‘½ä»¤</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">xiao-cli</span></span>
<span class="line"><span style="color:#6A737D;"># zsh: command not found: xiao-cli</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å‘½ä»¤ä¸å­˜åœ¨ï¼Ÿå› ä¸ºï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰å®‰è£…å˜›ï¼Œæ‰€ä»¥ç»ˆç«¯ä¸è®¤è¯†è¿™ä¸ªã€‚é‚£å°±å®‰èµ·</p><blockquote><p>æœ¬åœ°æµ‹è¯•ä¸€ä¸ª npm åŒ…ï¼Œå¯ä½¿ç”¨ï¼šnpm link æœ¬åœ°å®‰è£…è¿™ä¸ªåŒ…å°±è¡Œã€‚ä¸€èˆ¬æ˜¯å®‰è£…åˆ°å…¨å±€ã€‚</p></blockquote><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#9ECBFF;"> link</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å†æ¬¡è¿è¡Œå‘½ä»¤ <code>xiao-cli</code> å‘½ä»¤ï¼Œå°±æˆåŠŸäº†ã€‚</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">xiao-cli</span></span>
<span class="line"><span style="color:#6A737D;"># Hello, Cli</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="ç›®å½•ç»“æ„" tabindex="-1">ç›®å½•ç»“æ„ <a class="header-anchor" href="#ç›®å½•ç»“æ„" aria-label="Permalink to &quot;ç›®å½•ç»“æ„&quot;">â€‹</a></h3><div class="language-md line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">first-node-cli</span></span>
<span class="line"><span style="color:#E1E4E8;">â”œâ”€â”€ package.json</span></span>
<span class="line"><span style="color:#E1E4E8;">â””â”€â”€ index.js</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="è¿›é˜¶-æ•´ç‚¹é«˜çº§çš„" tabindex="-1">è¿›é˜¶ï¼šæ•´ç‚¹é«˜çº§çš„ <a class="header-anchor" href="#è¿›é˜¶-æ•´ç‚¹é«˜çº§çš„" aria-label="Permalink to &quot;è¿›é˜¶ï¼šæ•´ç‚¹é«˜çº§çš„&quot;">â€‹</a></h2><h3 id="process-argv" tabindex="-1">process.argv <a class="header-anchor" href="#process-argv" aria-label="Permalink to &quot;process.argv&quot;">â€‹</a></h3><p><code>process.argv</code> è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå‰ä¸¤ä½å›ºå®šä¸º <code>node ç¨‹åºè·¯å¾„</code>å’Œ<code>å½“å‰è¿è¡Œè„šæœ¬è·¯å¾„</code>ã€‚<br> ä»ç¬¬ 3 ä½å¼€å§‹æ‰æ˜¯æˆ‘ä»¬è¾“å…¥çš„å†…å®¹ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// index.js</span></span>
<span class="line"><span style="color:#E1E4E8;">#</span><span style="color:#F97583;">!/</span><span style="color:#E1E4E8;">usr</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">bin</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">env node</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(process.argv);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>æ‰§è¡Œï¼š<code>./index.js --template vue</code></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">./index.js</span><span style="color:#79B8FF;"> --template</span><span style="color:#9ECBFF;"> vue</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">[</span></span>
<span class="line"><span style="color:#9ECBFF;">  &#39;/Users/youraccount/.nvm/versions/node/v18.14.0/bin/node&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">  &#39;/Users/youraccount/study/node-lab/first-node-cli/index.js&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">  &#39;--template&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">  &#39;vue&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>æ‰§è¡Œï¼š<code>./index.js --template=vue</code></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">./index.js</span><span style="color:#79B8FF;"> --template=vue</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">[</span></span>
<span class="line"><span style="color:#9ECBFF;">  &#39;/Users/youraccount/.nvm/versions/node/v18.14.0/bin/node&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">  &#39;/Users/youraccount/study/node-lab/first-node-cli/index.js&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">  &#39;--template=vue&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="commander-å¤„ç†å‚æ•°" tabindex="-1">commander å¤„ç†å‚æ•° <a class="header-anchor" href="#commander-å¤„ç†å‚æ•°" aria-label="Permalink to &quot;commander å¤„ç†å‚æ•°&quot;">â€‹</a></h3><p>å½“å‚æ•°å¾ˆå¤æ‚æ—¶ï¼Œéœ€è¦å€ŸåŠ©ç¬¬ä¸‰æ–¹å·¥å…·å¤„ç†ã€‚ã€<a href="https://github.com/tj/commander.js" target="_blank" rel="noreferrer">Github åœ°å€</a>ã€‘</p><p><strong>åœ¨å®‰è£…å‰ï¼Œå…ˆè°ƒæ•´ç›®å½•ç»“æ„ï¼š</strong><br> 1ã€æ–°å»º bin ç›®å½•ä¸“é—¨æ”¾ç½®å‘½ä»¤æ–‡ä»¶ï¼Œå°† index.js ç§»å…¥å…¶ä¸­ã€‚ä¿®æ”¹å†…å®¹ä¸ºï¼š</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// index.js</span></span>
<span class="line"><span style="color:#E1E4E8;">#</span><span style="color:#F97583;">!/</span><span style="color:#E1E4E8;">usr</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">bin</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">env node</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">Command</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;commander&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> programer</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Command</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">programer.</span><span style="color:#B392F0;">version</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;../package.json&quot;</span><span style="color:#E1E4E8;">).version);</span></span>
<span class="line"><span style="color:#E1E4E8;">programer.</span><span style="color:#B392F0;">parse</span><span style="color:#E1E4E8;">(process.argv);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>2ã€åœ¨ package.json ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line highlighted"><span style="color:#79B8FF;">  &quot;bin&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line highlighted"><span style="color:#79B8FF;">    &quot;xiao-cli&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;bin/index.js&quot;</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>3ã€å®‰è£… commander</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">pnpm</span><span style="color:#9ECBFF;"> i</span><span style="color:#9ECBFF;"> commander</span><span style="color:#79B8FF;"> -S</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>è¿è¡Œå‘½ä»¤çœ‹çœ‹æ•ˆæœ</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">xiao-cli</span><span style="color:#79B8FF;"> -v</span></span>
<span class="line"><span style="color:#6A737D;"># error: unknown option &#39;-v&#39;</span></span>
<span class="line"><span style="color:#6A737D;"># V è¦å¤§å†™æ‰è¡Œ</span></span>
<span class="line"><span style="color:#B392F0;">xiao-cli</span><span style="color:#79B8FF;"> -V</span></span>
<span class="line"><span style="color:#6A737D;"># 1.0.0</span></span>
<span class="line"><span style="color:#B392F0;">xiao-cli</span><span style="color:#79B8FF;"> -h</span></span>
<span class="line"><span style="color:#6A737D;"># Usage: xiao-cli [options]</span></span>
<span class="line"><span style="color:#6A737D;"># Options:</span></span>
<span class="line"><span style="color:#6A737D;">#   -V, --version  output the version number</span></span>
<span class="line"><span style="color:#6A737D;">#   -h, --help     display help for command</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="inquirer-æ·»åŠ é—®ç­”" tabindex="-1">inquirer æ·»åŠ é—®ç­” <a class="header-anchor" href="#inquirer-æ·»åŠ é—®ç­”" aria-label="Permalink to &quot;inquirer æ·»åŠ é—®ç­”&quot;">â€‹</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">pnpm</span><span style="color:#9ECBFF;"> i</span><span style="color:#9ECBFF;"> inquirer</span><span style="color:#79B8FF;"> -S</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// bin/index.js</span></span>
<span class="line"><span style="color:#E1E4E8;">#</span><span style="color:#F97583;">!/</span><span style="color:#E1E4E8;">usr</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">bin</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">env node</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Command } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &quot;commander&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> inquirer </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &quot;inquirer&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#6A737D;">// åŸç”Ÿimportæ–¹å¼å¼•å…¥jsonæ—¶ï¼Œéœ€è¦æ–­è¨€ç±»å‹æ‰ä¸ä¼šæŠ¥é”™ã€‚</span></span>
<span class="line"><span style="color:#6A737D;">// æ–­è¨€æ˜¯ä¸€ä¸ªå®éªŒæ€§åŠŸèƒ½ï¼Œæ‰€ä»¥æ§åˆ¶å°ä¼šæœ‰æç¤ºã€‚</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> pkgInfo </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &quot;../package.json&quot;</span><span style="color:#F97583;"> assert</span><span style="color:#E1E4E8;"> { type: </span><span style="color:#9ECBFF;">&quot;json&quot;</span><span style="color:#E1E4E8;"> };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> programer</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Command</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#F97583;">const</span><span style="color:#B392F0;"> initAction</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">  inquirer</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">    .</span><span style="color:#B392F0;">prompt</span><span style="color:#E1E4E8;">([</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">      {</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">        type: </span><span style="color:#9ECBFF;">&quot;input&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">        message: </span><span style="color:#9ECBFF;">&quot;è¯·è¾“å…¥é¡¹ç›®åç§°:&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">        name: </span><span style="color:#9ECBFF;">&quot;name&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">      },</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">    ])</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">    .</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">answers</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;é¡¹ç›®åä¸ºï¼š&quot;</span><span style="color:#E1E4E8;">, answers.name);</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;æ­£åœ¨æ‹·è´é¡¹ç›®ï¼Œè¯·ç¨ç­‰&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">    });</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">};</span></span>
<span class="line highlighted"><wbr></span>
<span class="line highlighted"><span style="color:#E1E4E8;">programer.</span><span style="color:#B392F0;">command</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;init&quot;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">description</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;åˆ›å»ºé¡¹ç›®&quot;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">action</span><span style="color:#E1E4E8;">(initAction);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">programer.</span><span style="color:#B392F0;">version</span><span style="color:#E1E4E8;">(pkgInfo.version);</span></span>
<span class="line"><span style="color:#E1E4E8;">programer.</span><span style="color:#B392F0;">parse</span><span style="color:#E1E4E8;">(process.argv);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p><code>package.json</code> æ·»åŠ å¦‚ä¸‹é…ç½®ï¼Œè¿™æ ·æ‰èƒ½ç”¨ <code>import</code> å…³é”®å­—å¯¼å…¥ã€‚</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// package.json</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#79B8FF;">  &quot;type&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;module&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>çœ‹çœ‹æ•ˆæœå¦‚ä½•ï¼Ÿå¦‚ä¸‹ï¼Œç¬¦åˆé¢„æœŸã€‚ğŸ˜Š</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">xiao-cli</span><span style="color:#9ECBFF;"> init</span></span>
<span class="line"><span style="color:#6A737D;"># ? è¯·è¾“å…¥é¡¹ç›®åç§°: three-body</span></span>
<span class="line"><span style="color:#6A737D;"># é¡¹ç›®åä¸ºï¼š three-body</span></span>
<span class="line"><span style="color:#6A737D;"># æ­£åœ¨æ‹·è´é¡¹ç›®ï¼Œè¯·ç¨ç­‰</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="shelljs-æ‰§è¡Œè„šæœ¬" tabindex="-1">shelljs æ‰§è¡Œè„šæœ¬ <a class="header-anchor" href="#shelljs-æ‰§è¡Œè„šæœ¬" aria-label="Permalink to &quot;shelljs æ‰§è¡Œè„šæœ¬&quot;">â€‹</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">pnpm</span><span style="color:#9ECBFF;"> i</span><span style="color:#9ECBFF;"> shelljs</span><span style="color:#79B8FF;"> -S</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>bin/index.js</code> æ·»åŠ é«˜äº®éƒ¨åˆ†å†…å®¹ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// bin/index.js</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#B392F0;"> initAction</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  inquirer</span></span>
<span class="line"><span style="color:#E1E4E8;">    .</span><span style="color:#B392F0;">prompt</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    .</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">answers</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;é¡¹ç›®åä¸ºï¼š&quot;</span><span style="color:#E1E4E8;">, answers.name);</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;æ­£åœ¨æ‹·è´é¡¹ç›®ï¼Œè¯·ç¨ç­‰&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line highlighted"><span style="color:#B392F0;">      cloneViteRepo</span><span style="color:#E1E4E8;">(answers.name);</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"><span style="color:#6A737D;">// å…‹éš†Viteé¡¹ç›®</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> cloneViteRepo</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">newName</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> remote</span><span style="color:#F97583;"> =</span><span style="color:#9ECBFF;"> &quot;https://github.com/vitejs/vite&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> curName</span><span style="color:#F97583;"> =</span><span style="color:#9ECBFF;"> &quot;vite&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  shell.</span><span style="color:#B392F0;">exec</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#9ECBFF;">    \`</span></span>
<span class="line"><span style="color:#9ECBFF;">      git clone \${</span><span style="color:#E1E4E8;">remote</span><span style="color:#9ECBFF;">} --depth=1</span></span>
<span class="line"><span style="color:#9ECBFF;">      mv \${</span><span style="color:#E1E4E8;">curName</span><span style="color:#9ECBFF;">} \${</span><span style="color:#E1E4E8;">newName</span><span style="color:#9ECBFF;">}</span></span>
<span class="line"><span style="color:#9ECBFF;">      rm -rf ./\${</span><span style="color:#E1E4E8;">newName</span><span style="color:#9ECBFF;">}/.git</span></span>
<span class="line"><span style="color:#9ECBFF;">      cd \${</span><span style="color:#E1E4E8;">newName</span><span style="color:#9ECBFF;">}</span></span>
<span class="line"><span style="color:#9ECBFF;">      pnpm i</span></span>
<span class="line"><span style="color:#9ECBFF;">    \`</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    (</span><span style="color:#FFAB70;">error</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">stdout</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">stderr</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      if</span><span style="color:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">\`exec error: \${</span><span style="color:#E1E4E8;">error</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">        return</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">\`\${</span><span style="color:#E1E4E8;">stdout</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">\`\${</span><span style="color:#E1E4E8;">stderr</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>å¤§åŠŸå‘Šæˆã€‚è¿è¡Œ <code>xiao-cli</code> å°±èƒ½å…‹éš† Vite é¡¹ç›®å•¦ï¼ğŸ’¯</p><h3 id="ç›®å½•ç»“æ„-1" tabindex="-1">ç›®å½•ç»“æ„ <a class="header-anchor" href="#ç›®å½•ç»“æ„-1" aria-label="Permalink to &quot;ç›®å½•ç»“æ„&quot;">â€‹</a></h3><div class="language-md line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">first-node-cli</span></span>
<span class="line"><span style="color:#E1E4E8;">â”œâ”€â”€ bin</span></span>
<span class="line"><span style="color:#E1E4E8;">â”‚ â””â”€â”€ index.js</span></span>
<span class="line"><span style="color:#E1E4E8;">â”œâ”€â”€ package.json</span></span>
<span class="line"><span style="color:#E1E4E8;">â””â”€â”€ pnpm-lock.yaml</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="ps-å‘½ä»¤å®‰è£…çš„ä½ç½®" tabindex="-1">PSï¼šå‘½ä»¤å®‰è£…çš„ä½ç½® <a class="header-anchor" href="#ps-å‘½ä»¤å®‰è£…çš„ä½ç½®" aria-label="Permalink to &quot;PSï¼šå‘½ä»¤å®‰è£…çš„ä½ç½®&quot;">â€‹</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">where</span><span style="color:#9ECBFF;"> xiao-cli</span></span>
<span class="line"><span style="color:#6A737D;"># /Users/youraccount/.nvm/versions/node/v18.14.0/bin/xiao-cli</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,63)]))}const u=n(p,[["render",o]]);export{E as __pageData,u as default};
