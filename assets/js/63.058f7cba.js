(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{419:function(s,a,n){"use strict";n.r(a);var t=n(45),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"安装pnpm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装pnpm"}},[s._v("#")]),s._v(" 安装pnpm")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看版本")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" -v\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"pnpm命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pnpm命令"}},[s._v("#")]),s._v(" pnpm命令")]),s._v(" "),n("h3",{attrs:{id:"w-workspace-root"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#w-workspace-root"}},[s._v("#")]),s._v(" -w, --workspace-root")]),s._v(" "),n("p",[s._v("将 workspace 的根目录作为 pnpm 的运行目录，而不是 当前目录")]),s._v(" "),n("h3",{attrs:{id:"recursive-r"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#recursive-r"}},[s._v("#")]),s._v(" --recursive, -r")]),s._v(" "),n("p",[s._v("当在 workspace 下使用时，将从 workspace 下的每个软件包中删除指定的一个或多个依赖包。"),n("br"),s._v("\n当不在 workspace 下使用时，将在 子目录下寻找所有软件包并删除指定的一个或多个依赖包。")]),s._v(" "),n("h3",{attrs:{id:"save-dev-d"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#save-dev-d"}},[s._v("#")]),s._v(" --save-dev, -D")]),s._v(" "),n("p",[s._v("devDependencies 中列出的依赖包")]),s._v(" "),n("h3",{attrs:{id:"save-prod-p"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#save-prod-p"}},[s._v("#")]),s._v(" --save-prod, -P")]),s._v(" "),n("p",[s._v("dependencies 中列出的依赖包")]),s._v(" "),n("h3",{attrs:{id:"filter-package-selector"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#filter-package-selector"}},[s._v("#")]),s._v(" --filter <package_selector>")]),s._v(" "),n("p",[s._v("过滤和选择")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 项目全局安装依赖")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" typescript -D -W\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装局部依赖")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" axios -r --filter @xiao/vue\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"创建monorepo项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建monorepo项目"}},[s._v("#")]),s._v(" 创建monorepo项目")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建package.json")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" init\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置 workspace")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建pnpm-workspace.yaml文件，并写入以下内容")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 意思就是通过 glob 语法将packages下的所有文件夹都当做一个package，")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加到 monorepo 中进行管理")]),s._v("\npackages:\n  - "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"packages/**"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意中间有空格")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建packages目录，并在里面创建你的库文件夹")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" packages\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用pnpm init给packages中的每个子库创建package.json文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意子库package.json name字段名字，是通过这个来安装局部依赖的")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Done!")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);